---
import type { Gallery } from '../utils/api';

interface Props {
  title: string;
  slug: string;
  description?: string;
  imageCount?: number;
  thumbnailUrl?: string;
}

const { title, slug, description, imageCount = 0, thumbnailUrl } = Astro.props;
---

<article class="bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow h-full flex flex-col">
  {thumbnailUrl && (
    <div class="aspect-video bg-gray-100 overflow-hidden">
      <img
        src={thumbnailUrl}
        alt={title}
        class="w-full h-full object-cover hover:scale-105 transition-transform duration-300"
      />
    </div>
  )}

  <div class="p-6 flex-grow flex flex-col">
    <h3 class="text-xl font-semibold text-gray-900 mb-2">
      <a href={`/galleries/${slug}`} class="hover:text-gray-600 transition-colors">
        {title}
      </a>
    </h3>

    {description && (
      <p class="text-gray-600 mb-4 flex-grow line-clamp-2">
        {description}
      </p>
    )}

    <div class="flex items-center justify-between">
      <span class="text-sm text-gray-500">
        {imageCount} {imageCount === 1 ? 'image' : 'images'}
      </span>

      <a
        href={`/galleries/${slug}`}
        class="inline-block text-gray-900 font-medium hover:text-gray-600 transition-colors"
      >
        View Gallery â†’
      </a>
    </div>
  </div>
</article>
